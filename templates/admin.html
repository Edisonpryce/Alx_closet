<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <link rel="stylesheet" href="../static/styles/admin.css">
    <title> Alx Closet -Admin Dashboard</title>
</head>

<body>
    <nav class="navbar">
        <div class="navbar-container">
            <img src="../static/images/alx-logo.png" alt="Alx-logo">
            <div class="navbar-left">
                <div class="search-box">
                        <h4>
                            Admin: {{ user.name }}
                        </h4>
                </div>
            </div>
            <div class="navbar-right">
                <a href="../templates/login.html">
                    <i class="fas fa-user icon"></i>
                </a>
                <a href="">
                    <i class="fas fa-shopping-cart icon"></i>
                </a>
                <a href="">
                    <i class="fas fa-star icon"></i>
                </a>
                <a href="{{ url_for('auth.log_out') }}">
                    <span>Log out</span><span></span>
                </a>
            </div>
        </div>
    </nav>
    <div class="main-content">
        <div class="menu">
            <ul>
                <li><a href="#" data-page="Customers">Customers</a></li>
                <li><a href="#" data-page="order-history">Add Shop Items</a></li>
                <li><a href="#" data-page="wishlist">Shop Items</a></li>
                <li><a href="#" data-page="address-book">View Orders</a></li>
                <li><a href="#" data-page="password-reset">Settings</a></li>
            </ul>
        </div>
        <div class="content">
            <div class="customers page">
                <h2>Number of customers</h2>
                <table class="table table-dark table-hover">
                    <thead>
                        <tr>
                            <th scope="col">ID</th>
                            <th scope="col">Name</th>
                            <th scope="col">Email</th>
                            <th scope="col">Password</th>
                            <th scope="col">Admin status</th>
                            <th scope="col">Telephone</th>
                            <th scope="col">Date signup</th>
                            <th scope="col">Last update</th>
                        </tr>
                        <tbody>
                            {% for user in users %}
                            <td>{{ user.id }}</td>
                            <td>{{ user.name }}</td>
                            <td>{{ user.email }}</td>
                            <td>{{ user.password }}</td>
                            <td>{{ user.is_admin }}</td>
                            <td>{{ user.telephone }}</td>
                            <td>{{ user.created_at }}</td>
                            <td>{{ user.updated_at }}</td>
                            {%endfor%}
                        </tbody>
                    </thead>
                </table>
            </div>
            <div class="add_to_shop page">
                <h2>Add Shop Items</h2>
                <table class="table table-dark table-hover">
                    <thead>
                        <tr>
                            <th scope="col">Product Name</th>
                            <th scope="col">Minimum Price</th>
                            <th scope="col">Max Price</th>
                            <th scope="col">In Stock</th>
                            <th scope="col">Picture</th>
                            <th scope="col">Add</th>
                        </tr>
                    </thead>
                    <tbody>
                        <form action="" method="POST", enctype="multipart/form-data">
                            {{ shop_form.hidden_tag() }}
            
                            <td>{{ shop_form.product_name }}</td>
                            <td>{{ shop_form.min_price }}</td>
                            <td>{{ shop_form.max_price }}</td>
                            <td>{{ shop_form.in_stock }}</td>
                            <td>{{ shop_form.product_picture }}</td>
                            <td>{{ shop_form.add_product }}</td>
                        </form>
                    </tr>
                    </tbody>
                </table>
            </div>
            <div class="wishlist page">
                <h2>Wishlist</h2>
                <p>Items in your wishlist will appear here.</p>
            </div>
            <div class="address-book page">
                <h2>Address Book</h2>
                <p>Manage your addresses here.</p>
            </div>
            <div class="settings page">
                <h2>Add or Remove Admin</h2>
                <form style="padding: 30px;" method="POST">
                    {{ admin_form.hidden_tag() }}
                    <div>
                        {{ admin_form.admin_email.label }}  <!-- Add a label for clarity -->
                        {{ admin_form.admin_email() }}
                    </div>
                    <div>
                        {{ admin_form.submit() }}
                    </div>
                </form>
            </div>
            <div class="favorite-products page">
                <h2>Favorite Products</h2>
                <p>Your favorite products will be listed here.</p>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
        const menuLinks = document.querySelectorAll('.menu a');
        const pages = document.querySelectorAll('.page');

        menuLinks.forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            const pageClass = this.getAttribute('data-page');

            menuLinks.forEach(l => l.classList.remove('active'));
            pages.forEach(p => p.classList.remove('active'));

            this.classList.add('active');
            document.querySelector('.' + pageClass).classList.add('active');
        });
    });

            // Activate the first page by default
            menuLinks[0].click();
    });
    </script>
</body>

</html>
